{"version":3,"sources":["app/assets/breadCrumb/bread-crumb.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAA0C;AAC1C,0CAAwE;AACxE,0BAA4B;AAQ5B;IAGI,oBAAoB,OAAe,EAAU,KAAqB;QAAlE,iBA8BC;QA9BmB,YAAO,GAAP,OAAO,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QADlE,gBAAW,GAAU,EAAE,CAAC;QAEpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAA,CAAC;YACxB,MAAM,CAAC,CAAC,YAAY,sBAAa,CAAC;QACtC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAA,SAAS;YAClB,IAAI,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,EAClC,GAAG,GAAG,EAAE,CAAC;YACT,GAAG,CAAC;gBACA,IAAI,cAAc,GAAG,YAAY,CAAC,QAAQ,CAAC;gBAC3C,YAAY,GAAG,IAAI,CAAC;gBACpB,cAAc,CAAC,OAAO,CAAE,UAAA,MAAM;oBAC1B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;wBAC7B,IAAI,aAAa,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACpC,GAAG,IAAI,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,IAAI,EAAZ,CAAY,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;4BAC3C,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gCAClB,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,CAAC;gCAC/C,GAAG,EAAI,GAAG;6BAAE,CAAC,CAAC;wBACtB,CAAC;wBACD,YAAY,GAAG,MAAM,CAAC;oBAC1B,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,QAAQ,YAAY,EAAE;YACvB,IAAI,GAAG,GAAG,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAClC,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,WAAW,CAAC,EAAE,UAAC,CAAM,EAAE,CAAM;gBACtE,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC;YAC3B,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;YAC/C,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,KAAI,CAAC,WAAW,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;YAC1D,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACP,CAAC;IAjCQ,UAAU;QANtB,gBAAS,CAAC;YACP,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,wCAAwC;YACrD,SAAS,EAAE,CAAE,uCAAuC,CAAE;SACzD,CAAC;yCAK+B,eAAM,EAAiB,uBAAc;OAHzD,UAAU,CAkCtB;IAAD,iBAAC;CAlCD,AAkCC,IAAA;AAlCY,gCAAU","file":"bread-crumb.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'bread-crumb',\r\n    templateUrl: 'app/assets/BreadCrumb/bread-crumb.html',\r\n    styleUrls: [ 'app/assets/BreadCrumb/bread-crumb.css' ]\r\n})\r\n\r\nexport class BreadCrumb {\r\n    title: string | Object;\r\n    breadcrumbs: any[] = [];\r\n    constructor(private _router: Router, private route: ActivatedRoute) {\r\n        this._router.events.filter(o => {\r\n            return o instanceof NavigationEnd;\r\n        }).subscribe(eventData => {\r\n            let currentRoute = this.route.root,\r\n            url = '';\r\n            do {\r\n                let childrenRoutes = currentRoute.children;\r\n                currentRoute = null;\r\n                childrenRoutes.forEach( _route => {\r\n                    if (route.outlet === 'primary') {\r\n                        let routeSnapshot = _route.snapshot;\r\n                        url += '/' + routeSnapshot.url.map(segment => segment.path).join('/');\r\n                        if (_.get(routeSnapshot.data || {}, 'title')) {\r\n                            this.breadcrumbs.push({\r\n                                label: _.get(routeSnapshot.data || {}, 'title'),\r\n                                url:   url });\r\n                        }\r\n                        currentRoute = _route;\r\n                    }\r\n                });\r\n            } while (currentRoute);\r\n            let len = this.breadcrumbs.length;\r\n            this.breadcrumbs = _.uniqWith(_.reverse(this.breadcrumbs), (o: any, n: any) => {\r\n                return o.url === n.url;\r\n            });\r\n            this.breadcrumbs = _.reverse(this.breadcrumbs);\r\n            this.breadcrumbs = _.slice(this.breadcrumbs, len - 10, 8);\r\n            this.title = _.get(_.last(this.breadcrumbs), 'label');\r\n        });\r\n    }\r\n}\r\n"]}